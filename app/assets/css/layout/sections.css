/**
 * ═══════════════════════════════════════════════════════════════════════════
 * SECTION STYLES - PAGE SECTIONS
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * Base styles for page sections (SPA mode default, onepager optional).
 *
 * Quick Reference:
 * ───────────────────────────────────────────────────────────────────────────
 * CLASS               | PURPOSE
 * ───────────────────────────────────────────────────────────────────────────
 * .section            | Base section (content flows from top)
 * .section-hero       | Hero/first section (extra padding for header)
 * .section-fullscreen | Fullscreen section for onepager (100dvh, centered)
 * ───────────────────────────────────────────────────────────────────────────
 *
 * NOTE: scroll-padding-top is set on html in reset.css to account for
 * sticky header when navigating to anchor links (#about, #contact, etc.)
 */

/* ==========================================================================
   BASE SECTION - Content flows from top
   ========================================================================== */

.section {
  /* Full viewport height to push footer down */
  min-height: 100dvh;

  /* Flexbox for layout */
  display: flex;
  flex-direction: column;
  align-items: center;

  /* Padding with space for header at top */
  padding-block-start: calc(var(--header-height, 72px) + var(--space-12));
  padding-block-end: var(--space-16);

  /* Scroll to screen top */
  scroll-margin-top: 0;
}

/* Container fills available space */
.section > .container {
  width: 100%;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

/* Title stays at top */
.section > .container > .section-title {
  flex-shrink: 0;
}

/* Content body fills remaining space and centers content */
.section-body {
  flex-grow: 1;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: stretch;
}

/* Ensure direct children take full width and can't overflow */
.section-body > * {
  width: 100%;
  min-width: 0; /* Prevent flex children from overflowing */
}

/* ==========================================================================
   HERO SECTION - First visible section
   ========================================================================== */

/**
 * Hero is visible on page load (before any scroll).
 * - Full viewport height (header is transparent overlay)
 * - Padding: accounts for header so content starts below it
 */
.section-hero {
  padding-block-start: calc(var(--header-height, 72px) + var(--space-8));
}

/* Legacy alias - kept for backwards compatibility */
.section-auto,
.section-fullscreen {
  /* Same as default .section now - content flows from top */
}

/* ==========================================================================
   VERTICAL ALIGNMENT UTILITIES
   ========================================================================== */

.section-align-start {
  justify-content: flex-start;
}

.section-align-end {
  justify-content: flex-end;
}

/* ==========================================================================
   SECTION BACKGROUNDS - Use explicit classes for control
   ========================================================================== */

/*
 * NOTE: We removed the automatic :nth-of-type(even) alternating pattern
 * because it breaks when sections are conditionally rendered.
 * Use explicit classes instead:
 *
 * <section class="section section-bg-alt">  // Alternating background
 * <section class="section section-bg-elevated">  // Elevated bg
 * <section class="section section-bg-sunken">    // Sunken bg
 * <section class="section section-bg-brand">     // Brand bg
 */

/* Alias for alternating sections (same as elevated) */
.section-bg-alt {
  background: var(--l-bg-elevated);
}

.section-bg-elevated {
  background: var(--l-bg-elevated);
}

.section-bg-sunken {
  background: var(--l-bg-sunken);
}

.section-bg-brand {
  background: var(--i-brand);
  color: var(--p-white);
}

/* ==========================================================================
   HERO SECTION LAYOUT
   ========================================================================== */

.section-hero--center {
  text-align: center;
  align-items: center;
}

/* Hero container centers content vertically */
.section-hero--center > .container {
  justify-content: center;
}

/* Hero logo container */
.hero-logo {
  display: flex;
  justify-content: center;
  margin-block-end: var(--space-6);
}

/* Hero logo image - big and prominent */
.hero-logo-img {
  width: clamp(150px, 30vw, 280px);
  height: auto;
  object-fit: contain;
}

/* Theme-based logo visibility (avoids hydration mismatch + flash) */
.hero-logo-img--light {
  display: block;
}
.hero-logo-img--dark {
  display: none;
}

.dark .hero-logo-img--light {
  display: none;
}
.dark .hero-logo-img--dark {
  display: block;
}

.hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--gap-md);
  justify-content: center;
}

/* ==========================================================================
   HERO BACKGROUND - Simple subtle gradient
   ========================================================================== */

.section-hero {
  position: relative;
  background:
    radial-gradient(ellipse at 30% 70%, var(--c-brand-alpha) 0%, transparent 50%),
    var(--l-bg);
}

/* ==========================================================================
   HERO TYPOGRAPHY
   ========================================================================== */

.hero-title {
  font-size: clamp(var(--text-3xl), 8vw, var(--text-6xl));
  font-weight: var(--font-black);
  line-height: var(--leading-tight);
  letter-spacing: -0.02em;
  color: var(--l-text);
}

.hero-subtitle {
  font-size: clamp(var(--text-lg), 2.5vw, var(--text-xl));
  color: var(--l-text-secondary);
  max-width: 600px;
  margin-inline: auto;
  line-height: var(--leading-relaxed);
}

/* ==========================================================================
   LEGACY: Decoration containers (keep for backwards compat, but empty)
   ========================================================================== */

.hero-decorations,
.hero-blob,
.hero-shape,
.hero-dots {
  display: none;
}

/* ==========================================================================
   SECTION GRIDS - Common layout patterns
   ========================================================================== */

/* Two-column grid (image + text) */
.section-grid-2col {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--gap-xl);
  align-items: center;
}

@media (--tablet) {
  .section-grid-2col {
    grid-template-columns: 1fr 1fr;
  }

  /* Reverse the order (image on right) */
  .section-grid-2col--reversed > :first-child {
    order: 2;
  }
}

/* Auto-fit grid (for cards, portfolio items, services) */
.section-grid-auto {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
  gap: var(--gap-lg);
  justify-content: center;
}

/* Larger min-width for portfolio items */
.section-grid-auto--lg {
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 320px), 1fr));
}

/* ==========================================================================
   SECTION CONTENT PATTERNS
   ========================================================================== */

/* Aspect ratio image container */
.section-image {
  aspect-ratio: 4/3;
  border-radius: var(--radius-xl);
  overflow: hidden;
}

.section-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Image placeholder (uses Tabler icon or custom content) */
.image-placeholder {
  width: 100%;
  height: 100%;
  background: var(--l-bg-sunken);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--t-muted);
}

/* SVG icon inside placeholder */
.image-placeholder svg {
  width: calc(var(--icon-2xl) * 2);
  height: calc(var(--icon-2xl) * 2);
}

/* ==========================================================================
   PORTFOLIO SECTION STYLES
   ========================================================================== */

/* Portfolio section title for multiple portfolios */
.portfolio-section-title {
  font-size: var(--text-xl);
  margin-block-start: var(--space-8);
  margin-block-end: var(--space-4);
}

.portfolio-section-title:first-of-type {
  margin-block-start: 0;
}

.portfolio-items-grid {
  margin-block-end: var(--space-6);
}
