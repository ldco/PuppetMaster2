/**
 * ═══════════════════════════════════════════════════════════════════════════
 * PAGE LAYOUT - FUNDAMENTAL PAGE STRUCTURE
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * The base Holy Grail layout for all pages: Header → Main → Footer
 * This is the FOUNDATION that all layouts build upon.
 *
 * ┌─────────────────────────────────────────┐
 * │               HEADER (auto)             │
 * ├─────────────────────────────────────────┤
 * │                                         │
 * │               MAIN (1fr)                │
 * │           (grows to fill)               │
 * │                                         │
 * ├─────────────────────────────────────────┤
 * │               FOOTER (auto)             │
 * └─────────────────────────────────────────┘
 *
 * VISUAL MODES:
 * ───────────────────────────────────────────────────────────────────────────
 * MODE       | CONTENT WIDTH | SPACING  | NAV (Desktop)  | NAV (Mobile)
 * ───────────────────────────────────────────────────────────────────────────
 * Website    | 1280px (wide) | Spacious | Horizontal     | Hamburger overlay
 * App        | 900px (dense) | Compact  | Sidebar        | Bottom tabs
 * ───────────────────────────────────────────────────────────────────────────
 *
 * APP MODE BREAKPOINTS (Material Design 3):
 * ───────────────────────────────────────────────────────────────────────────
 * < 600px   (phone)            → Bottom navigation bar
 * 600-839px (tablet portrait)  → Navigation rail (narrow sidebar ~80px)
 * ≥ 840px   (tablet/desktop)   → Full sidebar
 * ───────────────────────────────────────────────────────────────────────────
 *
 * Quick Reference:
 * ───────────────────────────────────────────────────────────────────────────
 * CLASS             | PURPOSE
 * ───────────────────────────────────────────────────────────────────────────
 * .layout           | Holy Grail grid container (Website mode)
 * .layout-blank     | Minimal layout (no header/footer)
 * .layout-admin     | Admin/App panel (App mode: sidebar + bottom nav)
 * .main             | Main content area (container query host)
 * ───────────────────────────────────────────────────────────────────────────
 */

/* ==========================================================================
   APP MODE BREAKPOINTS (Material Design 3)
   ========================================================================== */

:root {
  /* App mode breakpoints - different from website mode! */
  --bp-app-phone: 600px;    /* Below this: bottom nav */
  --bp-app-tablet: 840px;   /* Below this: nav rail; above: full sidebar */

  /* App mode dimensions */
  --app-bottom-nav-height: 56px;    /* Material Design standard */
  --app-nav-rail-width: 80px;       /* Navigation rail width */
  --app-sidebar-width: 60px;        /* Full sidebar width (compact) */
}

/* ==========================================================================
   VISUAL MODE VARIABLES
   ========================================================================== */

/* Website mode - wider, more spacious (used by .layout) */
.layout {
  --content-max: 1280px;
  --page-padding: var(--space-6);
  --section-spacing: var(--space-section);
}

/* App mode - narrower, denser (used by .layout-admin) */
.layout-admin {
  --content-max: 960px;
  --page-padding: var(--space-4);
  --section-spacing: var(--space-4);
}

/* ==========================================================================
   DEFAULT LAYOUT - Holy Grail (Header/Main/Footer)
   ========================================================================== */

.layout {
  display: grid;
  grid-template-rows: auto 1fr auto;
  min-height: 100dvh;
}

.main {
  /* Container query host for responsive child components */
  container-type: inline-size;
}


/* ==========================================================================
   BLANK LAYOUT - Minimal (just content)
   ========================================================================== */

.layout-blank {
  display: grid;
  grid-template-rows: 1fr;
  min-height: 100dvh;
}

.layout-blank .main {
  container-type: inline-size;
}


/* ==========================================================================
   ADMIN LAYOUT - Narrow Icon Sidebar + Content
   ========================================================================== */

.layout-admin {
  display: block; /* Not grid - sidebar is fixed, main fills viewport */
  min-height: 100dvh;
}

/* Sidebar, content, and header styles are in their own files:
 * - layout/admin-sidebar.css
 * - layout/admin-content.css
 * - layout/admin-header.css
 */

/* ══════════════════════════════════════════════════════════
 * ADMIN PAGE CONTAINERS
 * Generic wrapper for admin pages (optional)
 * ══════════════════════════════════════════════════════════ */

.admin-page,
.admin-settings,
.admin-portfolio,
.admin-users,
.admin-translations,
.admin-contacts {
  /* These are just semantic wrappers - no special styles needed */
  /* Keeping them defined prevents "class not found" warnings */
}

/* Component styles are in their own files:
 * - ui/content/page-header.css
 * - ui/content/state-indicators.css
 * - ui/content/tabs.css (includes .tabs--underline for locale tabs)
 * - ui/forms/search.css
 * - ui/content/inbox.css
 * - ui/content/settings-form.css
 * - ui/content/portfolio-grid.css
 */

/* ==========================================================================
   APP MODE RESPONSIVE - Material Design 3 Navigation Pattern
   ==========================================================================

   BREAKPOINTS:
   - Phone (< 600px): Bottom navigation, sidebar hidden
   - Tablet portrait (600-839px): Navigation rail (narrow ~80px)
   - Tablet landscape/Desktop (≥ 840px): Full sidebar (60px)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PHONE (< 600px) - Bottom Navigation
   -------------------------------------------------------------------------- */
@media (width < 600px) {
  /* Hide sidebar completely on phones - use bottom nav instead */
  .layout-admin .admin-sidebar {
    display: none;
  }

  /* Main content: full width, add padding for bottom nav */
  .layout-admin .admin-main {
    margin-inline-start: 0;
    /* Reserve space for bottom nav + iOS safe area */
    padding-block-end: calc(var(--app-bottom-nav-height) + env(safe-area-inset-bottom, 0px));
  }

  .admin-content {
    padding: var(--space-6) var(--space-4);
  }

  /* Show mobile header on phones - override .mobile-only block with flex */
  .layout-admin .admin-header.mobile-only {
    display: flex !important;
  }

  /* Hide page title on phones - mobile header shows it instead */
  .layout-admin .page-title {
    display: none;
  }
}

/* --------------------------------------------------------------------------
   TABLET PORTRAIT (600-839px) - Navigation Rail
   -------------------------------------------------------------------------- */
@media (width >= 600px) and (width < 840px) {
  .layout-admin .admin-sidebar {
    width: var(--app-nav-rail-width, 80px);
  }

  .layout-admin .admin-main {
    margin-inline-start: var(--app-nav-rail-width, 80px);
    /* Still reserve space for bottom nav if we want both on tablets */
  }

  .admin-content {
    padding: var(--space-8) var(--space-5);
  }

  /* Hide mobile header on tablet */
  .layout-admin .admin-header.mobile-only {
    display: none;
  }
}

/* --------------------------------------------------------------------------
   TABLET LANDSCAPE / DESKTOP (≥ 840px) - Full Sidebar
   -------------------------------------------------------------------------- */
@media (width >= 840px) {
  .layout-admin .admin-sidebar {
    width: var(--app-sidebar-width, 60px);
  }

  .layout-admin .admin-main {
    margin-inline-start: var(--app-sidebar-width, 60px);
  }

  .admin-content {
    padding: var(--space-10);
  }

  /* Hide mobile header on desktop */
  .layout-admin .admin-header.mobile-only {
    display: none;
  }
}

