/**
 * Hamburger Menu Animations
 * Based on Hamburgers by Jonathan Suh (https://jonsuh.com/hamburgers)
 * 
 * Customized to use CSS variables for easy theming
 * 
 * Available types:
 *   - hamburger--squeeze (default, simple X animation)
 *   - hamburger--spin (rotating animation)
 *   - hamburger--elastic (bouncy animation)
 *   - hamburger--collapse (collapse to X)
 *   - hamburger--spring (spring bounce)
 *   - hamburger--slider (slide animation)
 * 
 * Usage:
 *   <button class="hamburger hamburger--squeeze" :class="{ 'is-active': menuOpen }">
 *     <span class="hamburger-box">
 *       <span class="hamburger-inner"></span>
 *     </span>
 *   </button>
 */

@layer components {
  :root {
    /* Hamburger customization - override these for custom styling */
    --hamburger-padding: 0.75rem;
    --hamburger-width: 28px;
    --hamburger-height: 3px;
    --hamburger-spacing: 6px;
    --hamburger-color: currentColor;
    --hamburger-active-color: var(--hamburger-color);
    --hamburger-radius: 2px;
    --hamburger-opacity-hover: 0.8;
  }

  /* Base hamburger button */
  .hamburger {
    font: inherit;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: var(--touch-target);
    min-height: var(--touch-target);
    overflow: visible;
    margin: 0;
    padding: var(--hamburger-padding);
    cursor: pointer;
    transition-timing-function: linear;
    transition-duration: 0.15s;
    transition-property: opacity, filter;
    text-transform: none;
    color: inherit;
    border: 0;
    background-color: transparent;
  }

  .hamburger:hover,
  .hamburger.is-active:hover {
    opacity: var(--hamburger-opacity-hover);
  }

  .hamburger.is-active .hamburger-inner,
  .hamburger.is-active .hamburger-inner::before,
  .hamburger.is-active .hamburger-inner::after {
    background-color: var(--hamburger-active-color);
  }

  /* Hamburger box (container) */
  .hamburger-box {
    position: relative;
    display: inline-block;
    width: var(--hamburger-width);
    height: calc(var(--hamburger-height) * 3 + var(--hamburger-spacing) * 2);
  }

  /* Hamburger lines */
  .hamburger-inner {
    top: 50%;
    display: block;
    margin-top: calc(var(--hamburger-height) / -2);
  }

  .hamburger-inner,
  .hamburger-inner::before,
  .hamburger-inner::after {
    position: absolute;
    width: var(--hamburger-width);
    height: var(--hamburger-height);
    transition-timing-function: ease;
    transition-duration: 0.15s;
    transition-property: transform;
    border-radius: var(--hamburger-radius);
    background-color: var(--hamburger-color);
  }

  .hamburger-inner::before,
  .hamburger-inner::after {
    display: block;
    content: "";
  }

  .hamburger-inner::before {
    top: calc((var(--hamburger-height) + var(--hamburger-spacing)) * -1);
  }

  .hamburger-inner::after {
    bottom: calc((var(--hamburger-height) + var(--hamburger-spacing)) * -1);
  }

  /* ═══════════════════════════════════════════════════════════
   * SQUEEZE (simple, clean X animation) - RECOMMENDED
   * ═══════════════════════════════════════════════════════════ */
  .hamburger--squeeze .hamburger-inner {
    transition-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    transition-duration: 75ms;
  }

  .hamburger--squeeze .hamburger-inner::before {
    transition: top 75ms ease 0.12s, opacity 75ms ease;
  }

  .hamburger--squeeze .hamburger-inner::after {
    transition: bottom 75ms ease 0.12s, transform 75ms cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  .hamburger--squeeze.is-active .hamburger-inner {
    transition-delay: 0.12s;
    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    transform: rotate(45deg);
  }

  .hamburger--squeeze.is-active .hamburger-inner::before {
    top: 0;
    transition: top 75ms ease, opacity 75ms ease 0.12s;
    opacity: 0;
  }

  .hamburger--squeeze.is-active .hamburger-inner::after {
    bottom: 0;
    transition: bottom 75ms ease, transform 75ms cubic-bezier(0.215, 0.61, 0.355, 1) 0.12s;
    transform: rotate(-90deg);
  }

  /* ═══════════════════════════════════════════════════════════
   * SPIN (rotating animation)
   * ═══════════════════════════════════════════════════════════ */
  .hamburger--spin .hamburger-inner {
    transition-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    transition-duration: 0.22s;
  }

  .hamburger--spin .hamburger-inner::before {
    transition: top 0.1s ease-in 0.25s, opacity 0.1s ease-in;
  }

  .hamburger--spin .hamburger-inner::after {
    transition: bottom 0.1s ease-in 0.25s, transform 0.22s cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  .hamburger--spin.is-active .hamburger-inner {
    transition-delay: 0.12s;
    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    transform: rotate(225deg);
  }

  .hamburger--spin.is-active .hamburger-inner::before {
    top: 0;
    transition: top 0.1s ease-out, opacity 0.1s ease-out 0.12s;
    opacity: 0;
  }

  .hamburger--spin.is-active .hamburger-inner::after {
    bottom: 0;
    transition: bottom 0.1s ease-out, transform 0.22s cubic-bezier(0.215, 0.61, 0.355, 1) 0.12s;
    transform: rotate(-90deg);
  }

  /* ═══════════════════════════════════════════════════════════
   * ELASTIC (bouncy animation)
   * ═══════════════════════════════════════════════════════════ */
  .hamburger--elastic .hamburger-inner {
    top: calc(var(--hamburger-height) / 2);
    transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    transition-duration: 0.275s;
  }

  .hamburger--elastic .hamburger-inner::before {
    top: calc(var(--hamburger-height) + var(--hamburger-spacing));
    transition: opacity 0.125s ease 0.275s;
  }

  .hamburger--elastic .hamburger-inner::after {
    top: calc((var(--hamburger-height) + var(--hamburger-spacing)) * 2);
    transition: transform 0.275s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .hamburger--elastic.is-active .hamburger-inner {
    transition-delay: 75ms;
    transform: translate3d(0, calc(var(--hamburger-height) + var(--hamburger-spacing)), 0) rotate(135deg);
  }

  .hamburger--elastic.is-active .hamburger-inner::before {
    transition-delay: 0s;
    opacity: 0;
  }

  .hamburger--elastic.is-active .hamburger-inner::after {
    transition-delay: 75ms;
    transform: translate3d(0, calc((var(--hamburger-height) + var(--hamburger-spacing)) * -2), 0) rotate(-270deg);
  }

  /* ═══════════════════════════════════════════════════════════
   * COLLAPSE (collapse to X)
   * ═══════════════════════════════════════════════════════════ */
  .hamburger--collapse .hamburger-inner {
    top: auto;
    bottom: 0;
    transition-delay: 0.13s;
    transition-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
    transition-duration: 0.13s;
  }

  .hamburger--collapse .hamburger-inner::after {
    top: calc((var(--hamburger-height) + var(--hamburger-spacing)) * -2);
    transition: top 0.2s cubic-bezier(0.33333, 0.66667, 0.66667, 1) 0.2s, opacity 0.1s linear;
  }

  .hamburger--collapse .hamburger-inner::before {
    transition: top 0.12s cubic-bezier(0.33333, 0.66667, 0.66667, 1) 0.2s,
                transform 0.13s cubic-bezier(0.55, 0.055, 0.675, 0.19);
  }

  .hamburger--collapse.is-active .hamburger-inner {
    transition-delay: 0.22s;
    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    transform: translate3d(0, calc((var(--hamburger-height) + var(--hamburger-spacing)) * -1), 0) rotate(-45deg);
  }

  .hamburger--collapse.is-active .hamburger-inner::after {
    top: 0;
    transition: top 0.2s cubic-bezier(0.33333, 0, 0.66667, 0.33333), opacity 0.1s linear 0.22s;
    opacity: 0;
  }

  .hamburger--collapse.is-active .hamburger-inner::before {
    top: 0;
    transition: top 0.1s cubic-bezier(0.33333, 0, 0.66667, 0.33333) 0.16s,
                transform 0.13s cubic-bezier(0.215, 0.61, 0.355, 1) 0.25s;
    transform: rotate(-90deg);
  }

  /* ═══════════════════════════════════════════════════════════
   * SLIDER (slide animation)
   * ═══════════════════════════════════════════════════════════ */
  .hamburger--slider .hamburger-inner {
    top: calc(var(--hamburger-height) / 2);
  }

  .hamburger--slider .hamburger-inner::before {
    top: calc(var(--hamburger-height) + var(--hamburger-spacing));
    transition-timing-function: ease;
    transition-duration: 0.15s;
    transition-property: transform, opacity;
  }

  .hamburger--slider .hamburger-inner::after {
    top: calc((var(--hamburger-height) + var(--hamburger-spacing)) * 2);
  }

  .hamburger--slider.is-active .hamburger-inner {
    transform: translate3d(0, calc(var(--hamburger-height) + var(--hamburger-spacing)), 0) rotate(45deg);
  }

  .hamburger--slider.is-active .hamburger-inner::before {
    transform: rotate(-45deg) translate3d(calc(var(--hamburger-width) / -7), calc(var(--hamburger-spacing) * -1), 0);
    opacity: 0;
  }

  .hamburger--slider.is-active .hamburger-inner::after {
    transform: translate3d(0, calc((var(--hamburger-height) + var(--hamburger-spacing)) * -2), 0) rotate(-90deg);
  }
}

